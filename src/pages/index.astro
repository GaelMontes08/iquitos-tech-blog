---
import Layout from '@/layouts/Layout.astro';
import ImportantNews from '@/components/ImportantNews.astro';
import News1 from '@/components/News1.astro';
import Trends from '@/sections/Trends.astro';
import PartnersCarousel from '@/components/PartnersCarousel.astro';
import PreFooter from '@/components/PreFooter.astro';
import HomepageSkeleton from '@/components/skeletons/HomepageSkeleton.astro';
import { getPageInfo } from '@/lib/wp';
import type { YoastSEO } from '@/lib/seo';

const { title, content, date, seo } = await getPageInfo('home');
---

<Layout 
  title={title} 
  description={content}
  seo={seo}
  canonical="https://iquitostech.com"
  type="website"
  urlType="page"
>
    <div id="content-skeleton" class="animate-pulse">
      <HomepageSkeleton />
    </div>
    
    <div id="actual-content" style="display: none;">
      <ImportantNews />   
      <News1 />
      <Trends />
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <PartnersCarousel />
      </div>
      <PreFooter />
    </div>
    
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const skeleton = document.getElementById('content-skeleton');
        const actualContent = document.getElementById('actual-content');
        
        if (skeleton && actualContent) {
          skeleton.style.display = 'block';
          actualContent.style.display = 'none';
          
          setTimeout(() => {
            skeleton.style.display = 'none';
            actualContent.style.display = 'block';
            actualContent.style.animation = 'fadeIn 0.4s ease-in-out';
          }, 500);
        }
      });
    </script>    <style>
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
    </style>
</Layout>
