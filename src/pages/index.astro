---
import Layout from '@/layouts/Layout.astro';
import ImportantNews from '@/components/ImportantNews.astro';
import News1 from '@/components/News1.astro';
import Trends from '@/sections/Trends.astro';
import PreFooter from '@/components/PreFooter.astro';
import HomepageSkeleton from '@/components/skeletons/HomepageSkeleton.astro';
import { getPageInfo } from '@/lib/wp';
import type { YoastSEO } from '@/lib/seo';

const { title, content, date, seo } = await getPageInfo('home');
---

<Layout 
  title={title} 
  description={content}
  seo={seo}
  canonical="https://www.iquitostech.com"
  type="website"
  urlType="page"
>
    <!-- Loading skeleton that will be replaced by actual content -->
    <div id="content-skeleton" class="animate-pulse">
      <HomepageSkeleton />
    </div>
    
    <!-- Actual content that loads progressively -->
    <div id="actual-content" style="display: none;">
      <ImportantNews />   
      <News1 />
      <Trends />
      <PreFooter />
    </div>
    
    <script>
      // Simple progressive content loading
      document.addEventListener('DOMContentLoaded', () => {
        const skeleton = document.getElementById('content-skeleton');
        const actualContent = document.getElementById('actual-content');
        
        if (skeleton && actualContent) {
          skeleton.style.display = 'block';
          actualContent.style.display = 'none';
          
          // Simulate progressive loading - adjust based on your actual loading time
          setTimeout(() => {
            skeleton.style.display = 'none';
            actualContent.style.display = 'block';
            actualContent.style.animation = 'fadeIn 0.4s ease-in-out';
          }, 500); // Adjust based on your actual loading time
        }
      });
    </script>    <style>
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }
    </style>
</Layout>
