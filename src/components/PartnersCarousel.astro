---
// Partners Carousel Component
const partners = [
  {
    name: "Loreto Noticias",
    logo: "/ln-logo.webp",
    website: "https://loretonoticias.com",
    description: "Portal de noticias de la región Loreto"
  },
  {
    name: "Casa del Jaguar",
    logo: "/cj-logo.webp", 
    website: "https://ayahuascaiquitos.net",
    description: "Centro de medicina tradicional amazónica"
  }
];
---

<section class="py-12">
  <div class="mx-auto px-4 sm:px-6 lg:px-8">
    
    <div class="text-center mb-8">
      <h2 class="text-2xl md:text-3xl font-bold text-white mb-3">
        Nuestros Aliados
      </h2>
      <p class="text-gray-400 max-w-2xl mx-auto">
        Colaboramos con organizaciones comprometidas con el desarrollo y la información en la región amazónica
      </p>
    </div>

    <div class="relative">
      <div class="partners-carousel grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
        {partners.map((partner, index) => (
          <div 
            class="partner-item group"
          >
            <a 
              href={partner.website}
              target="_blank"
              rel="noopener noreferrer"
              class="block transition-all duration-300 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-[#2847d7] focus:ring-offset-2 focus:ring-offset-gray-900 rounded-xl"
              aria-label={`Visitar ${partner.name}`}
            >
              <div class="backdrop-blur-sm border border-gray-500 rounded-xl p-8 hover:border-[#2847d7]/50 transition-all duration-300 h-full flex flex-col items-center justify-center">
                <div class="">
                  <img
                    src={partner.logo}
                    alt={`Logo de ${partner.name}`}
                    class="h-20 md:h-24 w-auto mx-auto object-contain filter brightness-90 group-hover:brightness-110 transition-all duration-300"
                    loading="lazy"
                  />
                </div>
                <div class="text-center">
                  <h3 class="text-white font-semibold text-lg md:text-xl group-hover:text-[#2847d7] transition-colors duration-300 mb-2">
                    {partner.name}
                  </h3>
                  <p class="text-gray-400 text-sm md:text-base leading-relaxed">
                    {partner.description}
                  </p>
                  <div class="mt-4 flex items-center justify-center text-[#2847d7] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                    <span class="text-sm font-medium mr-2">Visitar sitio web</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                    </svg>
                  </div>
                </div>
              </div>
            </a>
          </div>
        ))}
      </div>
    </div>

    
  </div>
</section>

<style>
  .partner-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    transform: translateY(20px);
  }
  
  .partner-item.animate-fadeInUp {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  .partner-item:hover {
    transform: translateY(-8px) scale(1.02);
    filter: drop-shadow(0 25px 35px rgb(40 71 215 / 0.15));
  }
  
  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  /* Remove floating animations for cleaner card experience */
  @media (min-width: 768px) {
    .partners-carousel {
      /* Remove carousel animation for grid layout */
    }
  }
  
  /* Enhanced card shadows */
  .partner-item > a > div {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -1px rgb(0 0 0 / 0.06);
  }
  
  .partner-item:hover > a > div {
    box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 10px 10px -5px rgb(0 0 0 / 0.04), 0 0 0 1px rgb(40 71 215 / 0.1);
  }
</style>

<script>
  // Add intersection observer for scroll animations
  document.addEventListener('DOMContentLoaded', () => {
    const partnerItems = document.querySelectorAll('.partner-item');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          const element = entry.target as HTMLElement;
          element.style.animationDelay = `${index * 0.2}s`;
          element.classList.add('animate-fadeInUp');
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });
    
    partnerItems.forEach(item => observer.observe(item));
  });
</script>
